
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>bingads.authorization &#8212; Bing Ads SDK 13.0.9.1 documentation</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Bing Ads SDK 13.0.9.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Module code</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for bingads.authorization</h1><div class="highlight"><pre>
<span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="k">import</span> <span class="n">parse_qs</span><span class="p">,</span> <span class="n">urlparse</span><span class="p">,</span> <span class="n">quote_plus</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">urlparse</span> <span class="k">import</span> <span class="n">parse_qs</span><span class="p">,</span> <span class="n">urlparse</span>
    <span class="kn">from</span> <span class="nn">urllib</span> <span class="k">import</span> <span class="n">quote_plus</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="kn">from</span> <span class="nn">.exceptions</span> <span class="k">import</span> <span class="n">OAuthTokenRequestException</span>

<span class="n">PRODUCTION</span><span class="o">=</span><span class="s1">&#39;production&#39;</span>
<span class="n">SANDBOX</span><span class="o">=</span><span class="s1">&#39;sandbox&#39;</span>

<div class="viewcode-block" id="AuthorizationData"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.AuthorizationData">[docs]</a><span class="k">class</span> <span class="nc">AuthorizationData</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; Represents a user who intends to access the corresponding customer and account.</span>

<span class="sd">    An instance of this class is required to authenticate with Bing Ads if you are using either</span>
<span class="sd">    :class:`.ServiceClient` or :class:`.BulkServiceManager`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">account_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">customer_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">developer_token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">authentication</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Initialize an instance of this class.</span>

<span class="sd">        :param account_id: The identifier of the account that owns the entities in the request.</span>
<span class="sd">                            Used as the CustomerAccountId header and the AccountId body elements</span>
<span class="sd">                            in calls to the Bing Ads web services.</span>
<span class="sd">        :type account_id: int</span>
<span class="sd">        :param customer_id: The identifier of the customer that owns the account.</span>
<span class="sd">                            Used as the CustomerId header element in calls to the Bing Ads web services.</span>
<span class="sd">        :type customer_id: int</span>
<span class="sd">        :param developer_token: The Bing Ads developer access token.</span>
<span class="sd">                            Used as the DeveloperToken header element in calls to the Bing Ads web services.</span>
<span class="sd">        :type developer_token: str</span>
<span class="sd">        :param authentication: An object representing the authentication method that should be used in calls</span>
<span class="sd">                            to the Bing Ads web services.</span>
<span class="sd">        :type authentication: Authentication</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_account_id</span> <span class="o">=</span> <span class="n">account_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_customer_id</span> <span class="o">=</span> <span class="n">customer_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_developer_token</span> <span class="o">=</span> <span class="n">developer_token</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_authentication</span> <span class="o">=</span> <span class="n">authentication</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">account_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; The identifier of the account that owns the entities in the request.</span>

<span class="sd">        Used as the CustomerAccountId header and the AccountId body elements in calls to the Bing Ads web services.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_account_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">customer_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; The identifier of the customer that owns the account.</span>

<span class="sd">        Used as the CustomerId header element in calls to the Bing Ads web services.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_customer_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">developer_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; The Bing Ads developer access token.</span>

<span class="sd">        Used as the DeveloperToken header element in calls to the Bing Ads web services.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_developer_token</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">authentication</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; An object representing the authentication method that should be used in calls to the Bing Ads web services.</span>

<span class="sd">        *See also:*</span>

<span class="sd">        * :class:`.OAuthDesktopMobileAuthCodeGrant`</span>
<span class="sd">        * :class:`.OAuthDesktopMobileImplicitGrant`</span>
<span class="sd">        * :class:`.OAuthWebAuthCodeGrant`</span>
<span class="sd">        * :class:`.PasswordAuthentication`</span>

<span class="sd">        :rtype: Authentication</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authentication</span>

    <span class="nd">@account_id</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">account_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_account_id</span> <span class="o">=</span> <span class="n">account_id</span>

    <span class="nd">@customer_id</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">customer_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">customer_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_customer_id</span> <span class="o">=</span> <span class="n">customer_id</span>

    <span class="nd">@developer_token</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">developer_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">developer_token</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_developer_token</span> <span class="o">=</span> <span class="n">developer_token</span>

    <span class="nd">@authentication</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">authentication</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">authentication</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_authentication</span> <span class="o">=</span> <span class="n">authentication</span></div>


<div class="viewcode-block" id="Authentication"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.Authentication">[docs]</a><span class="k">class</span> <span class="nc">Authentication</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; The base class for all authentication classes.</span>

<span class="sd">    *See also:*</span>

<span class="sd">    * :class:`.ServiceClient`</span>
<span class="sd">    * :class:`.BulkServiceManager`</span>
<span class="sd">    * :class:`.AuthorizationData`</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Authentication.enrich_headers"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.Authentication.enrich_headers">[docs]</a>    <span class="k">def</span> <span class="nf">enrich_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the required header elements for the corresponding Bing Ads service or bulk file upload operation.</span>

<span class="sd">        The header elements that the method sets will differ depending on the type of authentication.</span>
<span class="sd">        For example if you use one of the OAuth classes, the AuthenticationToken header will be set by this method,</span>
<span class="sd">        whereas the UserName and Password headers will remain empty.</span>

<span class="sd">        :param headers: Bing Ads service or bulk file upload operation headers.</span>
<span class="sd">        :type headers: dict</span>
<span class="sd">        :rtype: None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="PasswordAuthentication"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.PasswordAuthentication">[docs]</a><span class="k">class</span> <span class="nc">PasswordAuthentication</span><span class="p">(</span><span class="n">Authentication</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Represents a legacy Bing Ads authentication method using user name and password.</span>

<span class="sd">    You can use an instance of this class as the authentication property of a :class:`.AuthorizationData` object to</span>
<span class="sd">    authenticate with Bing Ads services.</span>
<span class="sd">    Existing users with legacy Bing Ads credentials may continue to specify the UserName and Password header elements.</span>
<span class="sd">    In future versions of the API, Bing Ads will transition exclusively to Microsoft Account authentication.</span>
<span class="sd">    New customers are required to sign up for Bing Ads with a Microsoft Account, and to manage those accounts you must</span>
<span class="sd">    use OAuth.</span>
<span class="sd">    For example instead of using this :class:`.PasswordAuthentication` class, you would authenticate with an instance</span>
<span class="sd">    of either :class:`.OAuthDesktopMobileAuthCodeGrant`, :class:`.OAuthDesktopMobileImplicitGrant`,</span>
<span class="sd">    or :class:`.OAuthWebAuthCodeGrant`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Initializes a new instance of this class using the specified user name and password.</span>

<span class="sd">        :param user_name: The Bing Ads user&#39;s sign-in user name. You may not set this element to a Microsoft account.</span>
<span class="sd">        :type user_name: str</span>
<span class="sd">        :param password: The Bing Ads user&#39;s sign-in password.</span>
<span class="sd">        :type password: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_user_name</span> <span class="o">=</span> <span class="n">user_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">user_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; The Bing Ads user&#39;s sign-in user name. You may not set this element to a Microsoft account.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">password</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; The Bing Ads user&#39;s sign-in password.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_password</span>

<div class="viewcode-block" id="PasswordAuthentication.enrich_headers"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.PasswordAuthentication.enrich_headers">[docs]</a>    <span class="k">def</span> <span class="nf">enrich_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the user name and password as headers elements for Bing Ads service or bulk file upload operation. &quot;&quot;&quot;</span>

        <span class="n">headers</span><span class="p">[</span><span class="s1">&#39;UserName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_name</span>
        <span class="n">headers</span><span class="p">[</span><span class="s1">&#39;Password&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span></div></div>


<div class="viewcode-block" id="OAuthTokens"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthTokens">[docs]</a><span class="k">class</span> <span class="nc">OAuthTokens</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; Contains information about OAuth access tokens received from the Microsoft Account authorization service.</span>

<span class="sd">    You can get OAuthTokens using the RequestAccessAndRefreshTokens method of RequestAccessAndRefreshTokens method of</span>
<span class="sd">    either the :class:`.OAuthDesktopMobileAuthCodeGrant` or :class:`.OAuthWebAuthCodeGrant` classes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">access_token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">access_token_expires_in_seconds</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">refresh_token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">response_json</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Initialize an instance of this class.</span>

<span class="sd">        :param access_token: OAuth access token that will be used for authorization in the Bing Ads services.</span>
<span class="sd">        :type access_token: (optional) str or None</span>
<span class="sd">        :param access_token_expires_in_seconds: (optional) The access token expiration time in seconds.</span>
<span class="sd">        :type access_token_expires_in_seconds: int or None</span>
<span class="sd">        :param refresh_token: (optional) OAuth refresh token that can be used to refresh an access token.</span>
<span class="sd">        :type refresh_token: str or None</span>
<span class="sd">        :param response_json: (optional) Whole json response along with the get access token request.</span>
<span class="sd">        :type response_json: dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_access_token</span> <span class="o">=</span> <span class="n">access_token</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_access_token_expires_in_seconds</span> <span class="o">=</span> <span class="n">access_token_expires_in_seconds</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_response_json</span> <span class="o">=</span> <span class="n">response_json</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_access_token_received_datetime</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">access_token_received_datetime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; The datetime when access token was received</span>
<span class="sd">        </span>
<span class="sd">        :rtype: datetime</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_access_token_received_datetime</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; OAuth access token that will be used for authorization in the Bing Ads services.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_access_token</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">access_token_expires_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Expiration time for the corresponding access token in seconds.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_access_token_expires_in_seconds</span>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">access_token_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Whether the access token has been expired.</span>

<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token_expires_in_seconds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">access_token_expires_in_seconds</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> \
            <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token_received_datetime</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token_expires_in_seconds</span><span class="p">)</span>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">refresh_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; OAuth refresh token that can be user to refresh an access token.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_token</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">response_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; OAuth whole attribute that got along with access token.</span>

<span class="sd">        :rtype: dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_response_json</span></div>


<div class="viewcode-block" id="OAuthAuthorization"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthAuthorization">[docs]</a><span class="k">class</span> <span class="nc">OAuthAuthorization</span><span class="p">(</span><span class="n">Authentication</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; The abstract base class for all OAuth authentication classes.</span>

<span class="sd">    You can use this class to dynamically instantiate a derived OAuth authentication class at run time.</span>
<span class="sd">    This class cannot be instantiated, and instead you should use either :class:`.OAuthDesktopMobileAuthCodeGrant`,</span>
<span class="sd">    :class:`.OAuthDesktopMobileImplicitGrant`, :class:`.OAuthWebAuthCodeGrant`, which extend this class.</span>

<span class="sd">    *See also:*</span>

<span class="sd">    * :class:`.OAuthDesktopMobileAuthCodeGrant`</span>
<span class="sd">    * :class:`.OAuthDesktopMobileImplicitGrant`</span>
<span class="sd">    * :class:`.OAuthWebAuthCodeGrant`</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">,</span> <span class="n">oauth_tokens</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="n">require_live_connect</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tenant</span><span class="o">=</span><span class="s1">&#39;common&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Initializes a new instance of the OAuthAuthorization class.</span>

<span class="sd">        :param client_id: The client identifier corresponding to your registered application.</span>
<span class="sd">        :type client_id: str</span>
<span class="sd">        :param oauth_tokens: Contains information about OAuth access tokens received from the Microsoft Account authorization service</span>
<span class="sd">        :type oauth_tokens: OAuthTokens</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">client_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Client id cannot be None.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="n">client_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_oauth_tokens</span> <span class="o">=</span> <span class="n">oauth_tokens</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">environment</span><span class="o">=</span><span class="n">env</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_require_live_connect</span><span class="o">=</span><span class="n">require_live_connect</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tenant</span> <span class="o">=</span> <span class="n">tenant</span>
        
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tenant</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; tenant</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tenant</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; The client identifier corresponding to your registered application.</span>

<span class="sd">        For more information about using a client identifier for authentication, see the</span>
<span class="sd">        Client Password Authentication section of the OAuth 2.0 spec at</span>
<span class="sd">        https://tools.ietf.org/html/rfc6749#section-4.1</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">oauth_tokens</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Contains information about OAuth access tokens received from the Microsoft Account authorization service.</span>

<span class="sd">        :rtype: OAuthTokens</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_oauth_tokens</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; An opaque value used by the client to maintain state between the request and callback</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span>

    <span class="nd">@state</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; An opaque value used by the client to maintain state between the request and callback</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">redirection_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; The URI to which the user of the app will be redirected after receiving user consent.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

<div class="viewcode-block" id="OAuthAuthorization.get_authorization_endpoint"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthAuthorization.get_authorization_endpoint">[docs]</a>    <span class="k">def</span> <span class="nf">get_authorization_endpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Gets the Microsoft Account authorization endpoint where the user should be navigated to give his or her consent.</span>

<span class="sd">        :return: The Microsoft Account authorization endpoint.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="OAuthAuthorization.enrich_headers"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthAuthorization.enrich_headers">[docs]</a>    <span class="k">def</span> <span class="nf">enrich_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the AuthenticationToken headers elements for Bing Ads service or bulk file upload operation. &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">oauth_tokens</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;OAuth access token hasn&#39;t been requested.&quot;</span><span class="p">)</span>
        <span class="n">headers</span><span class="p">[</span><span class="s1">&#39;AuthenticationToken&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">oauth_tokens</span><span class="o">.</span><span class="n">access_token</span></div></div>


<div class="viewcode-block" id="OAuthWithAuthorizationCode"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthWithAuthorizationCode">[docs]</a><span class="k">class</span> <span class="nc">OAuthWithAuthorizationCode</span><span class="p">(</span><span class="n">OAuthAuthorization</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Represents a proxy to the Microsoft account authorization service.</span>

<span class="sd">    Implement an extension of this class in compliance with the authorization code grant flow for Managing User</span>
<span class="sd">    Authentication with OAuth documented at http://go.microsoft.com/fwlink/?LinkID=511609. This is a standard OAuth 2.0</span>
<span class="sd">    flow and is defined in detail in the Authorization Code Grant section of the OAuth 2.0 spec at</span>
<span class="sd">    https://tools.ietf.org/html/rfc6749#section-4.1.</span>
<span class="sd">    For more information about registering a Bing Ads application, see http://go.microsoft.com/fwlink/?LinkID=511607.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">,</span> <span class="n">redirection_uri</span><span class="p">,</span> <span class="n">token_refreshed_callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">oauth_tokens</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="n">require_live_connect</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tenant</span><span class="o">=</span><span class="s2">&quot;common&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Initialize a new instance of this class.</span>

<span class="sd">        :param client_id: The client identifier corresponding to your registered application.</span>
<span class="sd">        :type client_id: str</span>
<span class="sd">        :param client_secret: The client secret corresponding to your registered application, or None if your app is a</span>
<span class="sd">        desktop or mobile app.</span>
<span class="sd">        :type client_secret: str or None</span>
<span class="sd">        :param redirection_uri: The URI to which the user of the app will be redirected after receiving user consent.</span>
<span class="sd">        :type redirection_uri: str</span>
<span class="sd">        :param token_refreshed_callback: (optional) Call back function when oauth_tokens be refreshed.</span>
<span class="sd">        :type token_refreshed_callback: (OAuthTokens)-&gt;None or None</span>
<span class="sd">        :param oauth_tokens: Contains information about OAuth access tokens received from the Microsoft Account authorization service</span>
<span class="sd">        :type oauth_tokens: OAuthTokens</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">OAuthWithAuthorizationCode</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">oauth_tokens</span><span class="o">=</span><span class="n">oauth_tokens</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">,</span> <span class="n">require_live_connect</span><span class="o">=</span><span class="n">require_live_connect</span><span class="p">,</span> <span class="n">tenant</span><span class="o">=</span><span class="n">tenant</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span> <span class="o">=</span> <span class="n">client_secret</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_redirection_uri</span> <span class="o">=</span> <span class="n">redirection_uri</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_refreshed_callback</span> <span class="o">=</span> <span class="n">token_refreshed_callback</span>

<div class="viewcode-block" id="OAuthWithAuthorizationCode.get_authorization_endpoint"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthWithAuthorizationCode.get_authorization_endpoint">[docs]</a>    <span class="k">def</span> <span class="nf">get_authorization_endpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Gets the Microsoft Account authorization endpoint where the user should be navigated to give his or her consent.</span>

<span class="sd">        :return: The Microsoft Account authorization endpoint.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint_url</span> <span class="o">=</span> <span class="n">_UriOAuthService</span><span class="o">.</span><span class="n">AUTHORIZE_URI</span><span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_live_connect</span><span class="p">)]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">environment</span> <span class="o">==</span> <span class="n">PRODUCTION</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_live_connect</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">endpoint_url</span> <span class="o">=</span> <span class="n">endpoint_url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;common&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tenant</span><span class="p">);</span>
            
        <span class="n">endpoint</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">endpoint_url</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span><span class="p">,</span>
            <span class="s1">&#39;code&#39;</span><span class="p">,</span>
            <span class="n">quote_plus</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_redirection_uri</span><span class="p">)</span>
        <span class="p">)</span>
        
        <span class="k">return</span> <span class="n">endpoint</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">endpoint</span> <span class="o">+</span> <span class="s1">&#39;&amp;state=&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span></div>

<div class="viewcode-block" id="OAuthWithAuthorizationCode.request_oauth_tokens_by_response_uri"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthWithAuthorizationCode.request_oauth_tokens_by_response_uri">[docs]</a>    <span class="k">def</span> <span class="nf">request_oauth_tokens_by_response_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response_uri</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Retrieves OAuth access and refresh tokens from the Microsoft Account authorization service.</span>

<span class="sd">        Using the specified authorization response redirection uri.</span>
<span class="sd">        For more information, see the Authorization Response section in the OAuth 2.0 spec</span>
<span class="sd">        at https://tools.ietf.org/html/rfc6749#section-4.1.</span>

<span class="sd">        :param response_uri: The response redirection uri.</span>
<span class="sd">        :type response_uri: str</span>
<span class="sd">        :return: OAuth tokens</span>
<span class="sd">        :rtype: OAuthTokens</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">parameters</span> <span class="o">=</span> <span class="n">parse_qs</span><span class="p">(</span><span class="n">urlparse</span><span class="p">(</span><span class="n">response_uri</span><span class="p">)</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;code&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">parameters</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Uri passed doesn&#39;t contain code param. &quot;</span>
                <span class="s2">&quot;Please make sure the uri has a code in it, for example http://myurl.com?code=123&quot;</span>
            <span class="p">)</span>
        <span class="n">code</span> <span class="o">=</span> <span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_oauth_tokens</span> <span class="o">=</span> <span class="n">_UriOAuthService</span><span class="o">.</span><span class="n">get_access_token</span><span class="p">(</span>
            <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">redirection_uri</span><span class="p">,</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="s1">&#39;authorization_code&#39;</span><span class="p">,</span>
            <span class="n">environment</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span>
            <span class="n">requireliveconnect</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_require_live_connect</span><span class="p">,</span>
            <span class="n">tenant</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tenant</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_refreshed_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">token_refreshed_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">oauth_tokens</span><span class="p">)</span>  <span class="c1"># invoke the callback when token refreshed.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">oauth_tokens</span></div>

<div class="viewcode-block" id="OAuthWithAuthorizationCode.request_oauth_tokens_by_refresh_token"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthWithAuthorizationCode.request_oauth_tokens_by_refresh_token">[docs]</a>    <span class="k">def</span> <span class="nf">request_oauth_tokens_by_refresh_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">refresh_token</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Retrieves OAuth access and refresh tokens from the Microsoft Account authorization service.</span>

<span class="sd">        Using the specified refresh token.</span>
<span class="sd">        For more information, see the Refreshing an Access Token section in the OAuth 2.0 spec</span>
<span class="sd">        at https://tools.ietf.org/html/rfc6749#section-6.</span>

<span class="sd">        :param refresh_token: The refresh token used to request new access and refresh tokens.</span>
<span class="sd">        :type refresh_token: str</span>
<span class="sd">        :return: OAuth tokens</span>
<span class="sd">        :rtype: OAuthTokens</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_oauth_tokens</span> <span class="o">=</span> <span class="n">_UriOAuthService</span><span class="o">.</span><span class="n">get_access_token</span><span class="p">(</span>
            <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="s1">&#39;refresh_token&#39;</span><span class="p">,</span>
            <span class="n">refresh_token</span><span class="o">=</span><span class="n">refresh_token</span><span class="p">,</span>
            <span class="n">environment</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">_UriOAuthService</span><span class="o">.</span><span class="n">SCOPE</span><span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_live_connect</span><span class="p">)],</span>
            <span class="n">requireliveconnect</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_require_live_connect</span><span class="p">,</span>
            <span class="n">tenant</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tenant</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_refreshed_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">token_refreshed_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">oauth_tokens</span><span class="p">)</span>  <span class="c1"># invoke the callback when token refreshed.</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">oauth_tokens</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; The client secret corresponding to your registered application, or None if your app is a desktop or mobile app.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">redirection_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; The URI to which your client browser will be redirected after receiving user consent.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_redirection_uri</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">token_refreshed_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; The callback function registered, will be invoked after oauth tokens has been refreshed.</span>

<span class="sd">        :rtype: OAuthTokens-&gt;None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token_refreshed_callback</span>

    <span class="nd">@client_secret</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">client_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span> <span class="o">=</span> <span class="n">client_secret</span>

    <span class="nd">@redirection_uri</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">redirection_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">redirection_uri</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_redirection_uri</span> <span class="o">=</span> <span class="n">redirection_uri</span>

    <span class="nd">@token_refreshed_callback</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">token_refreshed_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token_refreshed_callback</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_refreshed_callback</span> <span class="o">=</span> <span class="n">token_refreshed_callback</span></div>


<div class="viewcode-block" id="OAuthDesktopMobileAuthCodeGrant"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthDesktopMobileAuthCodeGrant">[docs]</a><span class="k">class</span> <span class="nc">OAuthDesktopMobileAuthCodeGrant</span><span class="p">(</span><span class="n">OAuthWithAuthorizationCode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Represents an OAuth authorization object implementing the authorization code grant flow for use in a desktop</span>
<span class="sd">    or mobile application.</span>

<span class="sd">    You can use an instance of this class as the AuthorizationData.Authentication property</span>
<span class="sd">    of an :class:`.AuthorizationData` object to authenticate with Bing Ads services.</span>
<span class="sd">    In this case the AuthenticationToken request header will be set to the corresponding OAuthTokens.AccessToken value.</span>

<span class="sd">    This class implements the authorization code grant flow for Managing User Authentication with OAuth</span>
<span class="sd">    documented at http://go.microsoft.com/fwlink/?LinkID=511609. This is a standard OAuth 2.0 flow and is defined in detail in the</span>
<span class="sd">    Authorization Code Grant section of the OAuth 2.0 spec at https://tools.ietf.org/html/rfc6749#section-4.1.</span>
<span class="sd">    For more information about registering a Bing Ads application, see http://go.microsoft.com/fwlink/?LinkID=511607.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">,</span> <span class="n">oauth_tokens</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="n">require_live_connect</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tenant</span><span class="o">=</span><span class="s1">&#39;common&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Initializes a new instance of the this class with the specified client id.</span>

<span class="sd">        :param client_id: The client identifier corresponding to your registered application.</span>
<span class="sd">        :type client_id: str</span>
<span class="sd">        :param oauth_tokens: Contains information about OAuth access tokens received from the Microsoft Account authorization service</span>
<span class="sd">        :type oauth_tokens: OAuthTokens</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">OAuthDesktopMobileAuthCodeGrant</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">client_id</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span>
            <span class="n">_UriOAuthService</span><span class="o">.</span><span class="n">REDIRECTION_URI</span><span class="p">[(</span><span class="n">env</span><span class="p">,</span> <span class="n">require_live_connect</span><span class="p">)],</span>
            <span class="n">oauth_tokens</span><span class="o">=</span><span class="n">oauth_tokens</span><span class="p">,</span>
            <span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">,</span>
            <span class="n">require_live_connect</span><span class="o">=</span><span class="n">require_live_connect</span><span class="p">,</span>
            <span class="n">tenant</span><span class="o">=</span><span class="n">tenant</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="OAuthWebAuthCodeGrant"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthWebAuthCodeGrant">[docs]</a><span class="k">class</span> <span class="nc">OAuthWebAuthCodeGrant</span><span class="p">(</span><span class="n">OAuthWithAuthorizationCode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Represents an OAuth authorization object implementing the authorization code grant flow for use in a web application.</span>

<span class="sd">    You can use an instance of this class as the AuthorizationData.Authentication property</span>
<span class="sd">    of an :class:`.AuthorizationData` object to authenticate with Bing Ads services.</span>
<span class="sd">    In this case the AuthenticationToken request header will be set to the corresponding OAuthTokens.AccessToken value.</span>

<span class="sd">    This class implements the authorization code grant flow for Managing User Authentication with OAuth</span>
<span class="sd">    documented at http://go.microsoft.com/fwlink/?LinkID=511609. This is a standard OAuth 2.0 flow and is defined in detail in the</span>
<span class="sd">    Authorization Code Grant section of the OAuth 2.0 spec at https://tools.ietf.org/html/rfc6749#section-4.1.</span>
<span class="sd">    For more information about registering a Bing Ads application, see http://go.microsoft.com/fwlink/?LinkID=511607.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span></div>


<div class="viewcode-block" id="OAuthDesktopMobileImplicitGrant"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthDesktopMobileImplicitGrant">[docs]</a><span class="k">class</span> <span class="nc">OAuthDesktopMobileImplicitGrant</span><span class="p">(</span><span class="n">OAuthAuthorization</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Represents an OAuth authorization object implementing the implicit grant flow for use in a desktop or mobile application.</span>

<span class="sd">    You can use an instance of this class as the AuthorizationData.Authentication property</span>
<span class="sd">    of an :class:`.AuthorizationData` object to authenticate with Bing Ads services.</span>
<span class="sd">    In this case the AuthenticationToken request header will be set to the corresponding OAuthTokens.AccessToken value.</span>

<span class="sd">    This class implements the implicit grant flow for Managing User Authentication with OAuth</span>
<span class="sd">    documented at http://go.microsoft.com/fwlink/?LinkID=511608. This is a standard OAuth 2.0 flow and is defined in detail in the</span>
<span class="sd">    Authorization Code Grant section of the OAuth 2.0 spec at https://tools.ietf.org/html/rfc6749#section-4.1.</span>
<span class="sd">    For more information about registering a Bing Ads application, see http://go.microsoft.com/fwlink/?LinkID=511607.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">,</span> <span class="n">oauth_tokens</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="n">require_live_connect</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tenant</span><span class="o">=</span><span class="s1">&#39;common&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Initializes a new instance of the this class with the specified client id.</span>

<span class="sd">        :param client_id: The client identifier corresponding to your registered application.</span>
<span class="sd">        :type client_id: str</span>
<span class="sd">        :param oauth_tokens: Contains information about OAuth access tokens received from the Microsoft Account authorization service</span>
<span class="sd">        :type oauth_tokens: OAuthTokens</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">OAuthDesktopMobileImplicitGrant</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">oauth_tokens</span><span class="o">=</span><span class="n">oauth_tokens</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">,</span> <span class="n">require_live_connect</span><span class="o">=</span><span class="n">require_live_connect</span><span class="p">,</span> <span class="n">tenant</span><span class="o">=</span><span class="n">tenant</span><span class="p">)</span>
        
    

<div class="viewcode-block" id="OAuthDesktopMobileImplicitGrant.get_authorization_endpoint"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthDesktopMobileImplicitGrant.get_authorization_endpoint">[docs]</a>    <span class="k">def</span> <span class="nf">get_authorization_endpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Gets the Microsoft Account authorization endpoint where the user should be navigated to give his or her consent.</span>

<span class="sd">        :return: The Microsoft Account authorization endpoint.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_url</span> <span class="o">=</span> <span class="n">_UriOAuthService</span><span class="o">.</span><span class="n">AUTHORIZE_URI</span><span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_live_connect</span><span class="p">)]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">environment</span> <span class="o">==</span> <span class="n">PRODUCTION</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_live_connect</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">endpoint_url</span> <span class="o">=</span> <span class="n">endpoint_url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;common&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tenant</span><span class="p">);</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">endpoint_url</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="s1">&#39;token&#39;</span><span class="p">,</span>
            <span class="n">_UriOAuthService</span><span class="o">.</span><span class="n">REDIRECTION_URI</span><span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_live_connect</span><span class="p">)],</span>
        <span class="p">)</span>
        
        <span class="k">return</span> <span class="n">endpoint</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">endpoint</span> <span class="o">+</span> <span class="s1">&#39;&amp;state=&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span></div>

<div class="viewcode-block" id="OAuthDesktopMobileImplicitGrant.extract_access_token_from_uri"><a class="viewcode-back" href="../../bingads.html#bingads.authorization.OAuthDesktopMobileImplicitGrant.extract_access_token_from_uri">[docs]</a>    <span class="k">def</span> <span class="nf">extract_access_token_from_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">redirection_uri</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Extracts the access token from the specified redirect URI.</span>

<span class="sd">        :param redirection_uri: The redirect URI that contains an access token.</span>
<span class="sd">        :type redirection_uri: str</span>
<span class="sd">        :return: The :class:`.OAuthTokens` object which contains both the access_token and access_token_expires_in_seconds properties.</span>
<span class="sd">        :rtype: OAuthTokens</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">parameters</span> <span class="o">=</span> <span class="n">parse_qs</span><span class="p">(</span><span class="n">urlparse</span><span class="p">(</span><span class="n">redirection_uri</span><span class="p">)</span><span class="o">.</span><span class="n">fragment</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;access_token&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">parameters</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;access_token&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;Input URI: </span><span class="si">{0}</span><span class="s2"> doesn&#39;t contain access_token parameter&quot;</span><span class="p">,</span> <span class="n">redirection_uri</span><span class="p">))</span>
        <span class="n">access_token</span> <span class="o">=</span> <span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;access_token&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;expires_in&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">parameters</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;expires_in&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">expires_in</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">expires_in</span> <span class="o">=</span> <span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;expires_in&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_oauth_tokens</span> <span class="o">=</span> <span class="n">OAuthTokens</span><span class="p">(</span>
            <span class="n">access_token</span><span class="p">,</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">expires_in</span><span class="p">)</span> <span class="k">if</span> <span class="n">expires_in</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">oauth_tokens</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">redirection_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_UriOAuthService</span><span class="o">.</span><span class="n">REDIRECTION_URI</span><span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_live_connect</span><span class="p">)]</span></div>


<span class="k">class</span> <span class="nc">_UriOAuthService</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; Provides method for getting OAuth tokens from the live.com authorization server.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="n">REDIRECTION_URI</span><span class="o">=</span><span class="p">{(</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span><span class="s1">&#39;https://login.live.com/oauth20_desktop.srf&#39;</span><span class="p">,</span>
                      <span class="p">(</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span><span class="s1">&#39;https://login.microsoftonline.com/common/oauth2/nativeclient&#39;</span><span class="p">,</span>
                      <span class="p">(</span><span class="n">SANDBOX</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span><span class="s1">&#39;https://login.live-int.com/oauth20_desktop.srf&#39;</span>
    <span class="p">}</span>
    <span class="n">AUTH_TOKEN_URI</span><span class="o">=</span><span class="p">{(</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span><span class="s1">&#39;https://login.live.com/oauth20_token.srf&#39;</span><span class="p">,</span>
                    <span class="p">(</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span><span class="s1">&#39;https://login.microsoftonline.com/common/oauth2/v2.0/token&#39;</span><span class="p">,</span>
                    <span class="p">(</span><span class="n">SANDBOX</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span><span class="s1">&#39;https://login.live-int.com/oauth20_token.srf&#39;</span>
    <span class="p">}</span>
    <span class="n">AUTHORIZE_URI</span><span class="o">=</span><span class="p">{(</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span><span class="s1">&#39;https://login.live.com/oauth20_authorize.srf?client_id=</span><span class="si">{0}</span><span class="s1">&amp;scope=bingads.manage&amp;response_type=</span><span class="si">{1}</span><span class="s1">&amp;redirect_uri=</span><span class="si">{2}</span><span class="s1">&#39;</span><span class="p">,</span> 
                   <span class="p">(</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span><span class="s1">&#39;https://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id=</span><span class="si">{0}</span><span class="s1">&amp;scope=https%3A</span><span class="si">%2F%2F</span><span class="s1">ads.microsoft.com</span><span class="si">%2F</span><span class="s1">ads.manage</span><span class="si">%20o</span><span class="s1">ffline_access&amp;response_type=</span><span class="si">{1}</span><span class="s1">&amp;redirect_uri=</span><span class="si">{2}</span><span class="s1">&#39;</span><span class="p">,</span>
                   <span class="p">(</span><span class="n">SANDBOX</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span><span class="s1">&#39;https://login.live-int.com/oauth20_authorize.srf?client_id=</span><span class="si">{0}</span><span class="s1">&amp;scope=bingads.manage&amp;response_type=</span><span class="si">{1}</span><span class="s1">&amp;redirect_uri=</span><span class="si">{2}</span><span class="s1">&amp;prompt=login&#39;</span>
    <span class="p">}</span>
    <span class="n">SCOPE</span><span class="o">=</span><span class="p">{(</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span><span class="s1">&#39;bingads.manage&#39;</span><span class="p">,</span> 
                   <span class="p">(</span><span class="n">PRODUCTION</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span><span class="s1">&#39;https://ads.microsoft.com/ads.manage offline_access&#39;</span><span class="p">,</span>
                   <span class="p">(</span><span class="n">SANDBOX</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span><span class="s1">&#39;bingads.manage&#39;</span>
    <span class="p">}</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_access_token</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot; Calls live.com authorization server with parameters passed in, deserializes the response and returns back OAuth tokens.</span>

<span class="sd">        :param kwargs: OAuth parameters for authorization server call.</span>
<span class="sd">        :return: OAuth tokens.</span>
<span class="sd">        :rtype: OAuthTokens</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="s1">&#39;client_secret&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;client_secret&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;client_secret&#39;</span><span class="p">]</span>
            
        <span class="k">if</span> <span class="s1">&#39;requireliveconnect&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;requireliveconnect&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;tenant&#39;</span><span class="p">]</span>
            
        <span class="n">auth_token_url</span> <span class="o">=</span> <span class="n">_UriOAuthService</span><span class="o">.</span><span class="n">AUTH_TOKEN_URI</span><span class="p">[(</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;environment&#39;</span><span class="p">],</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;requireliveconnect&#39;</span><span class="p">])]</span>
        
        <span class="k">if</span> <span class="s1">&#39;tenant&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;tenant&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">auth_token_url</span> <span class="o">=</span> <span class="n">auth_token_url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;common&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;tenant&#39;</span><span class="p">])</span>

        <span class="c1"># default timeout set to 300 secs</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">auth_token_url</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">error_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">OAuthTokenRequestException</span><span class="p">(</span><span class="n">error_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">),</span> <span class="n">error_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;error_description&#39;</span><span class="p">))</span>

        <span class="n">r_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">OAuthTokens</span><span class="p">(</span><span class="n">r_json</span><span class="p">[</span><span class="s1">&#39;access_token&#39;</span><span class="p">],</span> <span class="nb">int</span><span class="p">(</span><span class="n">r_json</span><span class="p">[</span><span class="s1">&#39;expires_in&#39;</span><span class="p">]),</span> <span class="n">r_json</span><span class="p">[</span><span class="s1">&#39;refresh_token&#39;</span><span class="p">],</span> <span class="n">r_json</span><span class="p">)</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Bing Ads SDK 13.0.9.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Bing Ads SDK Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.2.
    </div>
  </body>
</html>